# ==============================================================================
# WeaveAI Enterprise - Environment Configuration
# ==============================================================================

# ==============================================================================
# CORE CONFIGURATION (Required)
# ==============================================================================

# Database Connection
# Get from: https://neon.tech (recommended) or your PostgreSQL provider
# Format: postgresql://username:password@host:port/database
DATABASE_URL=postgresql://user:password@host:5432/weaveai

# Authentication Secret
# Generate with: npx auth secret
# Must be a long random string (min 32 characters)
AUTH_SECRET=your_generated_auth_secret_here_min_32_chars

# Site URL
# Your production domain (no trailing slash)
# For local dev: http://localhost:5173
PUBLIC_ORIGIN=https://your-domain.com

# Environment
# Options: development, staging, production
NODE_ENV=production

# ==============================================================================
# AI PROVIDER API KEYS (At least one required)
# ==============================================================================

# OpenRouter (Recommended - 32+ models in one API)
# Get from: https://openrouter.ai/keys
# Free tier available, pay-as-you-go pricing
OPENROUTER_API_KEY=sk-or-v1-your-openrouter-key-here

# Google Gemini (Image/Video Generation)
# Get from: https://makersuite.google.com/app/apikey
# Free tier: 1,500 requests/day
GEMINI_API_KEY=AIzaSyYour-Gemini-API-Key-Here

# OpenAI (DALL-E, GPT-Image, Image Editing)
# Get from: https://platform.openai.com/api-keys
# Pay-as-you-go, $5 minimum deposit
OPENAI_API_KEY=sk-proj-Your-OpenAI-API-Key-Here

# xAI (Grok Image Generation)
# Get from: https://console.x.ai/
# Requires xAI account
XAI_API_KEY=xai-Your-xAI-API-Key-Here

# Stability AI (Stable Diffusion Models)
# Get from: https://platform.stability.ai/account/keys
# Free tier: 25 credits, then pay-as-you-go
STABILITYAI_API_KEY=sk-Your-Stability-AI-Key-Here

# Black Forest Labs (FLUX Models)
# Get from: https://api.bfl.ml/
# Pay-as-you-go pricing
BFL_API_KEY=Your-BFL-API-Key-Here

# Kling AI (Image & Video Generation)
# Get from: https://klingai.com/
# Note: Requires both access key and secret key
KLING_API_ACCESS_KEY=Your-Kling-Access-Key-Here
KLING_API_SECRET_KEY=Your-Kling-Secret-Key-Here

# Luma Labs (Photon Image, Ray Video)
# Get from: https://lumalabs.ai/
# Pay-as-you-go pricing
LUMALABS_API_KEY=luma-Your-Luma-Labs-Key-Here

# Alibaba (Wan Image & Video Models)
# Get from: https://www.alibabacloud.com/
# Requires Alibaba Cloud account
ALIBABA_API_KEY=Your-Alibaba-API-Key-Here

# ==============================================================================
# STRIPE PAYMENT PROCESSING (Required for billing)
# ==============================================================================

# Stripe Publishable Key (Public, safe to expose)
# Get from: https://dashboard.stripe.com/apikeys
# Use test key (pk_test_) for development
PUBLIC_STRIPE_PUBLISHABLE_KEY=pk_test_51YourStripePublishableKeyHere

# Stripe Secret Key (Private, never expose)
# Use test key (sk_test_) for development
STRIPE_SECRET_KEY=sk_test_51YourStripeSecretKeyHere

# Stripe Webhook Secret (For webhook signature verification)
# Get from: https://dashboard.stripe.com/webhooks
# Create webhook endpoint first, then copy signing secret
STRIPE_WEBHOOK_SECRET=whsec_YourWebhookSigningSecretHere

# ==============================================================================
# OAUTH PROVIDERS (Optional - Enable social login)
# ==============================================================================

# Google OAuth
# Get from: https://console.cloud.google.com/apis/credentials
# Enable Google+ API, create OAuth 2.0 Client ID
AUTH_GOOGLE_ID=your-google-client-id.apps.googleusercontent.com
AUTH_GOOGLE_SECRET=GOCSPX-your-google-client-secret

# Apple OAuth
# Get from: https://developer.apple.com/account/resources/identifiers
# Create App ID, Services ID, and Key for Sign in with Apple
AUTH_APPLE_ID=com.yourcompany.weaveai
AUTH_APPLE_SECRET=your-apple-client-secret

# Twitter/X OAuth
# Get from: https://developer.twitter.com/en/portal/dashboard
# Create new project, enable OAuth 2.0
AUTH_TWITTER_ID=your-twitter-client-id
AUTH_TWITTER_SECRET=your-twitter-client-secret

# Facebook OAuth
# Get from: https://developers.facebook.com/apps/
# Create app, get App ID and App Secret
AUTH_FACEBOOK_ID=your-facebook-app-id
AUTH_FACEBOOK_SECRET=your-facebook-app-secret

# ==============================================================================
# EMAIL CONFIGURATION (Optional - Can configure via admin dashboard)
# ==============================================================================

# SMTP Server Settings
# Example using Gmail:
#   - Host: smtp.gmail.com
#   - Port: 587 (TLS) or 465 (SSL)
#   - Secure: false for TLS, true for SSL
#   - Generate App Password: https://myaccount.google.com/apppasswords

SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-app-specific-password

# Email Sender Information
FROM_EMAIL=noreply@your-domain.com
FROM_NAME=WeaveAI

# ==============================================================================
# CLOUDFLARE R2 STORAGE (Optional - Falls back to local storage)
# ==============================================================================

# Cloudflare Account ID
# Get from: https://dash.cloudflare.com/ â†’ Account ID in sidebar
R2_ACCOUNT_ID=your-cloudflare-account-id

# R2 Access Credentials
# Get from: https://dash.cloudflare.com/[account-id]/r2/api-tokens
# Create API token with R2 read & write permissions
R2_ACCESS_KEY_ID=your-r2-access-key-id
R2_SECRET_ACCESS_KEY=your-r2-secret-access-key

# R2 Bucket Configuration
# Create bucket at: https://dash.cloudflare.com/[account-id]/r2
R2_BUCKET_NAME=weaveai-uploads
R2_PUBLIC_URL=https://your-bucket.r2.cloudflarestorage.com

# ==============================================================================
# CLOUDFLARE TURNSTILE (Optional - Bot protection)
# ==============================================================================

# Turnstile Site Key (Public, visible in frontend)
# Get from: https://dash.cloudflare.com/[account-id]/turnstile
TURNSTILE_SITE_KEY=0x4AAAAAAAYourTurnstileSiteKey

# Turnstile Secret Key (Private, used for verification)
TURNSTILE_SECRET_KEY=0x4AAAAAAAYourTurnstileSecretKey

# ==============================================================================
# CACHING (Optional - Recommended for production)
# ==============================================================================

# Redis Connection (For caching and session storage)
# Get from: https://upstash.com/ (serverless Redis)
# Or use local Redis: redis://localhost:6379
REDIS_URL=redis://default:password@host:port
REDIS_TOKEN=your-redis-token-if-using-upstash

# ==============================================================================
# MONITORING & ANALYTICS (Optional - Recommended for production)
# ==============================================================================

# Sentry (Error Tracking)
# Get from: https://sentry.io/
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# PostHog (Product Analytics)
# Get from: https://posthog.com/
POSTHOG_API_KEY=phc_your_posthog_api_key
PUBLIC_POSTHOG_HOST=https://app.posthog.com

# Google Analytics
# Get from: https://analytics.google.com/
PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX

# ==============================================================================
# FEATURE FLAGS (Optional)
# ==============================================================================

# Demo Mode (Read-only for demonstrations)
# Set to 'true' to enable demo mode, 'false' to disable
DEMO_MODE=false

# Maintenance Mode
# Set to 'true' to show maintenance page
MAINTENANCE_MODE=false

# Feature Flags (Enable/disable features)
ENABLE_VIDEO_GENERATION=true
ENABLE_IMAGE_EDITING=true
ENABLE_FUNCTION_CALLING=true
ENABLE_TEAM_FEATURES=false
ENABLE_API_ACCESS=false

# ==============================================================================
# SECURITY (Advanced)
# ==============================================================================

# Session Configuration
SESSION_SECRET=your-session-secret-min-32-chars
SESSION_COOKIE_NAME=weaveai.sid
SESSION_MAX_AGE=2592000

# Rate Limiting
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_REQUESTS_PER_HOUR=1000

# CORS Configuration (if using separate frontend)
CORS_ORIGIN=https://your-frontend-domain.com

# ==============================================================================
# DEVELOPMENT ONLY (Do not use in production)
# ==============================================================================

# Debug Logging
DEBUG=false
LOG_LEVEL=info

# Skip Email Verification (Dev only)
SKIP_EMAIL_VERIFICATION=false

# Mock AI Responses (Dev only, saves API costs)
MOCK_AI_PROVIDERS=false

# ==============================================================================
# NOTES
# ==============================================================================

# 1. NEVER commit this file with real values
# 2. Use .env.local for local development (git-ignored)
# 3. Set these variables in Vercel/hosting dashboard for production
# 4. Generate AUTH_SECRET with: npx auth secret
# 5. Minimum required:
#    - DATABASE_URL
#    - AUTH_SECRET
#    - PUBLIC_ORIGIN
#    - At least one AI provider API key (OPENROUTER_API_KEY recommended)
#
# 6. Optional but recommended for full functionality:
#    - STRIPE keys (for billing)
#    - SMTP settings (for emails)
#    - R2 storage (for media uploads)
#
# 7. Most settings can be configured via admin dashboard after deployment
#    Go to: /admin/settings
#
# 8. For detailed setup guide, see: IMPLEMENTATION_GUIDE.md
# ==============================================================================
